import{r as l,R as o}from"./iframe-B0pyN9P4.js";import{X as v}from"./chunk-RUUNC4DZ-BP-Qkuuy.js";import{g as I}from"./mermaid-DJDY5Okz.js";import{A as k}from"./arrow-type-selector-CWYxe8vc.js";import{B as i}from"./chunk-ZJJ7XTJB-CqYoxPeD.js";import{H as L}from"./chunk-KNFS6H5K-bXK3Lrp5.js";import{I as B}from"./chunk-2SDIXUVN-DTWl0mhZ.js";import{I as R}from"./createLucideIcon-3yn87STw.js";import{C as X}from"./chunk-4BKHXCBQ-DEvSpEFz.js";import"./preload-helper-C1FmrZbK.js";import"./chunk-PQIMNVG7-ypB1vdV-.js";import"./types-CqnIvgx0.js";import"./chunk-3UTYG3XF-Co8kQaFT.js";import"./chunk-FVWMS4CP-DcwLrdLC.js";import"./index-uCLQ8KRJ.js";import"./chunk-AFVGPBIP-Z4a0uDJe.js";function g({id:n,labelX:t,labelY:y,data:e}){const[a,m]=l.useState(!1),[c,u]=l.useState((e==null?void 0:e.label)||""),[E,f]=l.useState(!1),s=l.useRef(null);l.useEffect(()=>{a&&s.current&&(s.current.focus(),s.current.select())},[a]);const w=r=>{r.preventDefault(),r.stopPropagation(),m(!0)},b=()=>{m(!1),e!=null&&e.onLabelChange&&e.onLabelChange(n,c)},T=r=>{r.key==="Enter"&&!E?b():r.key==="Escape"&&(m(!1),u((e==null?void 0:e.label)||""))},x=()=>{f(!0)},A=()=>{f(!1)},S=()=>{b()},D=r=>{e!=null&&e.onArrowTypeChange&&e.onArrowTypeChange(n,r)},$=r=>{r.preventDefault(),r.stopPropagation(),e!=null&&e.onDelete&&e.onDelete(n)};return o.createElement(i,{position:"absolute",transform:`translate(-50%, -50%) translate(${t}px,${y}px)`,pointerEvents:"all",className:"nodrag nopan"},a?o.createElement(B,{ref:s,value:c,onChange:r=>u(r.target.value),onKeyDown:T,onBlur:S,onCompositionStart:x,onCompositionEnd:A,size:"sm",w:"120px",bg:"white",border:"1px solid",borderColor:"gray.300",fontSize:"12px",textAlign:"center"}):o.createElement(L,{gap:"1",align:"center"},o.createElement(i,{onClick:w,bg:"white",p:"1",px:"2",borderRadius:"md",fontSize:"xs",border:"1px solid",borderColor:"gray.300",cursor:"pointer",minW:"20px",textAlign:"center",display:"flex",alignItems:"center",gap:"1"},o.createElement(i,{as:"span",color:"blue.600",fontWeight:"bold"},I((e==null?void 0:e.arrowType)||"arrow")),o.createElement(i,{as:"span"},c||"...")),o.createElement(k,{currentArrowType:(e==null?void 0:e.arrowType)||"arrow",onArrowTypeChange:D}),o.createElement(R,{"aria-label":"Delete edge",icon:o.createElement(v,null),size:"xs",variant:"ghost",colorScheme:"red",onClick:$,bg:"white",border:"1px solid",borderColor:"red.300",_hover:{bg:"red.50"}})))}g.__docgenInfo={description:"",methods:[],displayName:"EdgeContent",props:{id:{required:!0,tsType:{name:"string"},description:""},labelX:{required:!0,tsType:{name:"number"},description:""},labelY:{required:!0,tsType:{name:"number"},description:""},data:{required:!1,tsType:{name:'EditableEdgeProps["data"]',raw:'EditableEdgeProps["data"]'},description:""}}};const U={title:"components/flow/EdgeContent",component:g},p={render:()=>o.createElement(X,{w:"full",h:"100vh",position:"relative"},o.createElement(g,{id:"e1-2",labelX:0,labelY:0,data:{label:"edge label",arrowType:"arrow",onLabelChange:(n,t)=>alert(`ラベル変更: ${n} → ${t}`),onArrowTypeChange:(n,t)=>alert(`矢印タイプ変更: ${n} → ${t}`),onDelete:n=>alert(`削除: ${n}`)}}))};var d,h,C;p.parameters={...p.parameters,docs:{...(d=p.parameters)==null?void 0:d.docs,source:{originalSource:'{\n  render: () => <Center w="full" h="100vh" position="relative">\n      <EdgeContent id="e1-2" labelX={0} labelY={0} data={{\n      label: "edge label",\n      arrowType: "arrow" as MermaidArrowType,\n      onLabelChange: (id: string, label: string) => alert(`ラベル変更: ${id} → ${label}`),\n      onArrowTypeChange: (id: string, type: MermaidArrowType) => alert(`矢印タイプ変更: ${id} → ${type}`),\n      onDelete: (id: string) => alert(`削除: ${id}`)\n    }} />\n    </Center>\n}',...(C=(h=p.parameters)==null?void 0:h.docs)==null?void 0:C.source}}};const V=["Default"];export{p as Default,V as __namedExportsOrder,U as default};
