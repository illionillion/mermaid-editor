import{f as I,j as $,I as k,c as L,r as l,R as n}from"./iframe-Cnjz5Urv.js";import{c as R,I as _}from"./createLucideIcon-T42Pvfjq.js";import{g as X}from"./mermaid-DJDY5Okz.js";import{A as B}from"./arrow-type-selector-CGYRJpzS.js";import{B as i}from"./chunk-ZJJ7XTJB-785uJcQD.js";import{H as q}from"./chunk-KNFS6H5K-htrRgKXG.js";import{I as z}from"./chunk-2SDIXUVN-BZYWylkq.js";import{C as N}from"./chunk-4BKHXCBQ-BbeW23nz.js";import"./preload-helper-C1FmrZbK.js";import"./chunk-AFVGPBIP-DCQxvsqD.js";import"./chunk-PQIMNVG7-DfOnY86g.js";import"./types-CqnIvgx0.js";import"./chunk-3UTYG3XF-DoC50_A6.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],j=R("X",P);var M=I(({className:o,...t},p)=>$.jsx(k,{ref:p,as:j,className:L("ui-lucide-icon",o),...t}));function u({id:o,labelX:t,labelY:p,data:e}){const[c,m]=l.useState(!1),[g,d]=l.useState((e==null?void 0:e.label)||""),[E,f]=l.useState(!1),s=l.useRef(null);l.useEffect(()=>{c&&s.current&&(s.current.focus(),s.current.select())},[c]);const w=r=>{r.preventDefault(),r.stopPropagation(),m(!0)},b=()=>{m(!1),e!=null&&e.onLabelChange&&e.onLabelChange(o,g)},x=r=>{r.key==="Enter"&&!E?b():r.key==="Escape"&&(m(!1),d((e==null?void 0:e.label)||""))},T=()=>{f(!0)},A=()=>{f(!1)},v=()=>{b()},S=r=>{e!=null&&e.onArrowTypeChange&&e.onArrowTypeChange(o,r)},D=r=>{r.preventDefault(),r.stopPropagation(),e!=null&&e.onDelete&&e.onDelete(o)};return n.createElement(i,{position:"absolute",transform:`translate(-50%, -50%) translate(${t}px,${p}px)`,pointerEvents:"all",className:"nodrag nopan"},c?n.createElement(z,{ref:s,value:g,onChange:r=>d(r.target.value),onKeyDown:x,onBlur:v,onCompositionStart:T,onCompositionEnd:A,size:"sm",w:"120px",bg:"white",border:"1px solid",borderColor:"gray.300",fontSize:"12px",textAlign:"center"}):n.createElement(q,{gap:"1",align:"center"},n.createElement(i,{onClick:w,bg:"white",p:"1",px:"2",borderRadius:"md",fontSize:"xs",border:"1px solid",borderColor:"gray.300",cursor:"pointer",minW:"20px",textAlign:"center",display:"flex",alignItems:"center",gap:"1"},n.createElement(i,{as:"span",color:"blue.600",fontWeight:"bold"},X((e==null?void 0:e.arrowType)||"arrow")),n.createElement(i,{as:"span"},g||"...")),n.createElement(B,{currentArrowType:(e==null?void 0:e.arrowType)||"arrow",onArrowTypeChange:S}),n.createElement(_,{"aria-label":"Delete edge",icon:n.createElement(M,null),size:"xs",variant:"ghost",colorScheme:"red",onClick:D,bg:"white",border:"1px solid",borderColor:"red.300",_hover:{bg:"red.50"}})))}u.__docgenInfo={description:"",methods:[],displayName:"EdgeContent",props:{id:{required:!0,tsType:{name:"string"},description:""},labelX:{required:!0,tsType:{name:"number"},description:""},labelY:{required:!0,tsType:{name:"number"},description:""},data:{required:!1,tsType:{name:'EditableEdgeProps["data"]',raw:'EditableEdgeProps["data"]'},description:""}}};const re={title:"components/flow/EdgeContent",component:u},a={render:()=>n.createElement(N,{w:"full",h:"100vh",position:"relative"},n.createElement(u,{id:"e1-2",labelX:0,labelY:0,data:{label:"edge label",arrowType:"arrow",onLabelChange:(o,t)=>alert(`ラベル変更: ${o} → ${t}`),onArrowTypeChange:(o,t)=>alert(`矢印タイプ変更: ${o} → ${t}`),onDelete:o=>alert(`削除: ${o}`)}}))};var h,y,C;a.parameters={...a.parameters,docs:{...(h=a.parameters)==null?void 0:h.docs,source:{originalSource:'{\n  render: () => <Center w="full" h="100vh" position="relative">\n      <EdgeContent id="e1-2" labelX={0} labelY={0} data={{\n      label: "edge label",\n      arrowType: "arrow" as MermaidArrowType,\n      onLabelChange: (id: string, label: string) => alert(`ラベル変更: ${id} → ${label}`),\n      onArrowTypeChange: (id: string, type: MermaidArrowType) => alert(`矢印タイプ変更: ${id} → ${type}`),\n      onDelete: (id: string) => alert(`削除: ${id}`)\n    }} />\n    </Center>\n}',...(C=(y=a.parameters)==null?void 0:y.docs)==null?void 0:C.source}}};const oe=["Default"];export{a as Default,oe as __namedExportsOrder,re as default};
