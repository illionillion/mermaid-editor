/*! For license information please see components-flow-flow-panel-stories.c9965864.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkmermaid_editor=self.webpackChunkmermaid_editor||[]).push([[100],{"./features/flowchart/components/mermaid/editable-mermaid-highlight.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{K:()=>EditableMermaidHighlight});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@14.1.0_@babel+core@7.28.3_babel-plugin-macros@3.1.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/jsx-runtime.js"),_yamada_ui_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@yamada-ui+layouts@1.4.3_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/layouts/dist/chunk-ZJJ7XTJB.mjs"),prismjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/prismjs@1.30.0/node_modules/prismjs/prism.js"),react_simple_code_editor__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/react-simple-code-editor@0.14.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-simple-code-editor/lib/index.js"),react_simple_code_editor__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react_simple_code_editor__WEBPACK_IMPORTED_MODULE_3__);__webpack_require__("./node_modules/.pnpm/prismjs@1.30.0/node_modules/prismjs/themes/prism-dark.css"),__webpack_require__("./node_modules/.pnpm/prismjs@1.30.0/node_modules/prismjs/components/prism-mermaid.js");const EditableMermaidHighlight=({value,onChange,placeholder="Mermaidコードを入力...",minHeight="300px",fontSize="14px"})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_yamada_ui_react__WEBPACK_IMPORTED_MODULE_1__.a,{w:"full",borderRadius:"md",overflow:"hidden",border:"1px solid",borderColor:"border",bg:"gray.900",color:"white",fontFamily:"mono",sx:{"& textarea::placeholder":{color:"white",opacity:.7}},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_simple_code_editor__WEBPACK_IMPORTED_MODULE_3___default(),{value,onValueChange:onChange,highlight:code=>{try{return(0,prismjs__WEBPACK_IMPORTED_MODULE_2__.highlight)(code,prismjs__WEBPACK_IMPORTED_MODULE_2__.languages.mermaid,"mermaid")}catch(e){return code.replace(/[&<>"']/g,match=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}[match]))}},padding:16,placeholder,style:{fontFamily:'"Fira code", "Fira Mono", Consolas, Monaco, "Courier New", monospace',fontSize,minHeight,lineHeight:"1.5",backgroundColor:"transparent",outline:"none",caretColor:"white"}})});EditableMermaidHighlight.__docgenInfo={description:"",methods:[],displayName:"EditableMermaidHighlight",props:{placeholder:{defaultValue:{value:'"Mermaidコードを入力..."',computed:!1},required:!1},minHeight:{defaultValue:{value:'"300px"',computed:!1},required:!1},fontSize:{defaultValue:{value:'"14px"',computed:!1},required:!1}}}},"./features/flowchart/components/mermaid/import-modal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{z:()=>ImportModal});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@14.1.0_@babel+core@7.28.3_babel-plugin-macros@3.1.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/jsx-runtime.js"),_yamada_ui_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@yamada-ui+alert@1.1.13_@emotion+is-prop-valid@1.3.1_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/alert/dist/chunk-W5JFQ7LF.mjs"),_yamada_ui_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@yamada-ui+button@1.0.59_@emotion+is-prop-valid@1.3.1_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/button/dist/chunk-AFVGPBIP.mjs"),_yamada_ui_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@yamada-ui+layouts@1.4.3_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/layouts/dist/chunk-KNFS6H5K.mjs"),_yamada_ui_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@yamada-ui+modal@1.4.14_@emotion+is-prop-valid@1.3.1_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/modal/dist/chunk-SA5RYCAR.mjs"),_yamada_ui_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@yamada-ui+typography@1.1.9_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/typography/dist/chunk-HZUFQ4E7.mjs"),_yamada_ui_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@yamada-ui+modal@1.4.14_@emotion+is-prop-valid@1.3.1_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/modal/dist/chunk-F6XJWJIF.mjs"),_yamada_ui_react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/@yamada-ui+modal@1.4.14_@emotion+is-prop-valid@1.3.1_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/modal/dist/chunk-A64FIX7X.mjs"),_yamada_ui_react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/@yamada-ui+modal@1.4.14_@emotion+is-prop-valid@1.3.1_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/modal/dist/chunk-XDFGVPCC.mjs"),_yamada_ui_react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/.pnpm/@yamada-ui+modal@1.4.14_@emotion+is-prop-valid@1.3.1_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/modal/dist/chunk-OPXWQC3M.mjs"),react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/.pnpm/next@14.1.0_@babel+core@7.28.3_babel-plugin-macros@3.1.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/index.js"),_hooks_mermaid__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./features/flowchart/hooks/mermaid.ts"),_editable_mermaid_highlight__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./features/flowchart/components/mermaid/editable-mermaid-highlight.tsx");const ImportModal=({open,onClose,onImport})=>{const[mermaidCode,setMermaidCode]=(0,react__WEBPACK_IMPORTED_MODULE_10__.useState)(""),[error,setError]=(0,react__WEBPACK_IMPORTED_MODULE_10__.useState)(null),[isLoading,setIsLoading]=(0,react__WEBPACK_IMPORTED_MODULE_10__.useState)(!1),handleClose=()=>{setMermaidCode(""),setError(null),onClose()};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_yamada_ui_react__WEBPACK_IMPORTED_MODULE_4__.a,{open,onClose:handleClose,size:"2xl",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_yamada_ui_react__WEBPACK_IMPORTED_MODULE_8__.m,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_yamada_ui_react__WEBPACK_IMPORTED_MODULE_7__.r,{children:"Mermaidコードインポート"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_yamada_ui_react__WEBPACK_IMPORTED_MODULE_9__.c,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_yamada_ui_react__WEBPACK_IMPORTED_MODULE_3__.Tk,{gap:2,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_yamada_ui_react__WEBPACK_IMPORTED_MODULE_5__.E,{fontSize:"sm",color:"gray.600",children:"Mermaidのフローチャートコードを貼り付けてインポートできます"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_editable_mermaid_highlight__WEBPACK_IMPORTED_MODULE_12__.K,{value:mermaidCode,onChange:value=>{setMermaidCode(value),setError(null)},placeholder:"例:\nflowchart TD\n    A[開始] --\x3e B{判定}\n    B --\x3e|はい| C[処理A]\n    B --\x3e|いいえ| D[処理B]\n    C --\x3e E[終了]\n    D --\x3e E",minHeight:"300px"}),error&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorAlert,{message:error}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_yamada_ui_react__WEBPACK_IMPORTED_MODULE_5__.E,{fontSize:"xs",color:"gray.500",children:"💡 対応しているノード形状: 四角形[label], ダイヤモンド{label}, 円((label)), 六角形{{label}}, スタジアム([label]), 角丸(label)"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_yamada_ui_react__WEBPACK_IMPORTED_MODULE_6__.j,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_yamada_ui_react__WEBPACK_IMPORTED_MODULE_2__.$,{onClick:handleClose,children:"キャンセル"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_yamada_ui_react__WEBPACK_IMPORTED_MODULE_2__.$,{colorScheme:"blue",onClick:async()=>{if(mermaidCode.trim()){setIsLoading(!0),setError(null);try{const parsedData=(0,_hooks_mermaid__WEBPACK_IMPORTED_MODULE_11__.UY)(mermaidCode);if(0===parsedData.nodes.length&&0===parsedData.edges.length)return void setError("有効なMermaidコードが見つかりませんでした。ノードまたはエッジの定義を確認してください。");onImport(parsedData),setMermaidCode(""),onClose()}catch(e){setError("Mermaidコードの解析中にエラーが発生しました")}finally{setIsLoading(!1)}}else setError("Mermaidコードを入力してください")},loading:isLoading,loadingText:"インポート中...",disabled:!mermaidCode.trim(),children:"インポート"})]})]})},ErrorAlert=({message})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_yamada_ui_react__WEBPACK_IMPORTED_MODULE_1__.Fc,{status:"error",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_yamada_ui_react__WEBPACK_IMPORTED_MODULE_1__._0,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_yamada_ui_react__WEBPACK_IMPORTED_MODULE_1__.TN,{children:message})]});ImportModal.__docgenInfo={description:"",methods:[],displayName:"ImportModal"}},"./node_modules/.pnpm/@yamada-ui+lucide@1.10.5_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/lucide/dist/chunk-XJVW37JZ.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c:()=>PlusIcon});var dist=__webpack_require__("./node_modules/.pnpm/@yamada-ui+core@1.17.3_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/core/dist/index.mjs"),chunk_WVAWCMPM=__webpack_require__("./node_modules/.pnpm/@yamada-ui+icon@1.1.21_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/icon/dist/chunk-WVAWCMPM.mjs"),chunk_EM4VFLLU=__webpack_require__("./node_modules/.pnpm/@yamada-ui+utils@1.7.2_react@18.3.1/node_modules/@yamada-ui/utils/dist/chunk-EM4VFLLU.mjs");const Plus=(0,__webpack_require__("./node_modules/.pnpm/lucide-react@0.475.0_react@18.3.1/node_modules/lucide-react/dist/esm/createLucideIcon.js").A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var jsx_runtime=__webpack_require__("./node_modules/.pnpm/next@14.1.0_@babel+core@7.28.3_babel-plugin-macros@3.1.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/jsx-runtime.js"),PlusIcon=(0,dist.Rf)(({className,...rest},ref)=>(0,jsx_runtime.jsx)(chunk_WVAWCMPM.In,{ref,as:Plus,className:(0,chunk_EM4VFLLU.cx)("ui-lucide-icon",className),...rest}))},"./stories/components/flow/flow-panel.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>flow_panel_stories});var jsx_runtime=__webpack_require__("./node_modules/.pnpm/next@14.1.0_@babel+core@7.28.3_babel-plugin-macros@3.1.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/jsx-runtime.js"),esm=__webpack_require__("./node_modules/.pnpm/@xyflow+react@12.8.2_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@xyflow/react/dist/esm/index.js"),chunk_XJVW37JZ=__webpack_require__("./node_modules/.pnpm/@yamada-ui+lucide@1.10.5_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/lucide/dist/chunk-XJVW37JZ.mjs"),chunk_IWZHGNGY=__webpack_require__("./node_modules/.pnpm/@yamada-ui+lucide@1.10.5_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/lucide/dist/chunk-IWZHGNGY.mjs"),dist=__webpack_require__("./node_modules/.pnpm/@yamada-ui+core@1.17.3_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/core/dist/index.mjs"),chunk_WVAWCMPM=__webpack_require__("./node_modules/.pnpm/@yamada-ui+icon@1.1.21_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/icon/dist/chunk-WVAWCMPM.mjs"),chunk_EM4VFLLU=__webpack_require__("./node_modules/.pnpm/@yamada-ui+utils@1.7.2_react@18.3.1/node_modules/@yamada-ui/utils/dist/chunk-EM4VFLLU.mjs");const Upload=(0,__webpack_require__("./node_modules/.pnpm/lucide-react@0.475.0_react@18.3.1/node_modules/lucide-react/dist/esm/createLucideIcon.js").A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var UploadIcon=(0,dist.Rf)(({className,...rest},ref)=>(0,jsx_runtime.jsx)(chunk_WVAWCMPM.In,{ref,as:Upload,className:(0,chunk_EM4VFLLU.cx)("ui-lucide-icon",className),...rest})),use_disclosure_dist=__webpack_require__("./node_modules/.pnpm/@yamada-ui+use-disclosure@1.1.6_react@18.3.1/node_modules/@yamada-ui/use-disclosure/dist/index.mjs"),chunk_KNFS6H5K=__webpack_require__("./node_modules/.pnpm/@yamada-ui+layouts@1.4.3_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/layouts/dist/chunk-KNFS6H5K.mjs"),chunk_HZUFQ4E7=__webpack_require__("./node_modules/.pnpm/@yamada-ui+typography@1.1.9_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/typography/dist/chunk-HZUFQ4E7.mjs"),chunk_AFVGPBIP=__webpack_require__("./node_modules/.pnpm/@yamada-ui+button@1.0.59_@emotion+is-prop-valid@1.3.1_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/button/dist/chunk-AFVGPBIP.mjs"),ui=__webpack_require__("./components/ui/index.ts"),import_modal=(__webpack_require__("./features/flowchart/components/mermaid/download-modal.tsx"),__webpack_require__("./features/flowchart/components/mermaid/import-modal.tsx"));__webpack_require__("./features/flowchart/components/mermaid/editable-mermaid-highlight.tsx");const FlowPanel=({onAddNode,onGenerateCode,onImportMermaid})=>(0,jsx_runtime.jsx)(esm.Zk,{position:"top-left",children:(0,jsx_runtime.jsx)(PanelContent,{onAddNode,onGenerateCode,onImportMermaid})}),PanelContent=({onAddNode,onGenerateCode,onImportMermaid})=>{const{open,onOpen,onClose}=(0,use_disclosure_dist.j1)();return(0,jsx_runtime.jsxs)(chunk_KNFS6H5K.Tk,{gap:4,p:4,bg:"white",borderRadius:"md",boxShadow:"md",children:[(0,jsx_runtime.jsxs)(chunk_KNFS6H5K.zt,{w:"full",display:{base:"flex",sm:"inline-flex"},flexWrap:"wrap",justify:"space-between",children:[(0,jsx_runtime.jsx)(chunk_HZUFQ4E7.E,{fontSize:"lg",fontWeight:"bold",children:"Mermaid フローチャート エディター"}),(0,jsx_runtime.jsx)(ui.KS,{})]}),(0,jsx_runtime.jsxs)(chunk_KNFS6H5K.Tk,{gap:2,align:"start",children:[(0,jsx_runtime.jsx)(chunk_HZUFQ4E7.E,{fontSize:"sm",color:"gray.600",children:"💡 ヒント: ノードをダブルクリックで編集、ドラッグして空の場所で新ノード作成"}),(0,jsx_runtime.jsxs)(chunk_KNFS6H5K.zt,{gap:2,display:{base:"flex",md:"inline-flex"},flexWrap:"wrap",children:[(0,jsx_runtime.jsx)(chunk_AFVGPBIP.$,{startIcon:(0,jsx_runtime.jsx)(chunk_XJVW37JZ.c,{}),colorScheme:"blue",size:"sm",onClick:onAddNode,children:"ノード追加"}),(0,jsx_runtime.jsx)(chunk_AFVGPBIP.$,{startIcon:(0,jsx_runtime.jsx)(chunk_IWZHGNGY.l,{}),colorScheme:"green",size:"sm",onClick:onGenerateCode,children:"コード生成"}),(0,jsx_runtime.jsx)(chunk_AFVGPBIP.$,{startIcon:(0,jsx_runtime.jsx)(UploadIcon,{}),colorScheme:"purple",size:"sm",onClick:onOpen,children:"インポート"})]})]}),(0,jsx_runtime.jsx)(import_modal.z,{open,onClose,onImport:onImportMermaid})]})};FlowPanel.__docgenInfo={description:"",methods:[],displayName:"FlowPanel"},PanelContent.__docgenInfo={description:"",methods:[],displayName:"PanelContent"};const flow_panel_stories={parameters:{storySource:{source:'import { jsx as _jsx } from "react/jsx-runtime";\nimport { FlowPanel } from "@/features/flowchart/components/panel/flow-panel";\nconst meta = {\n    title: "components/flow/FlowPanel",\n    component: FlowPanel\n};\nexport default meta;\nexport const Default = {\n    render: ()=>/*#__PURE__*/ _jsx(FlowPanel, {\n            onAddNode: ()=>alert("ノード追加"),\n            onGenerateCode: ()=>alert("コード生成"),\n            onImportMermaid: ()=>alert("Mermaidインポート")\n        })\n};\n',locationsMap:{default:{startLoc:{col:23,line:8},endLoc:{col:1,line:14},startBody:{col:23,line:8},endBody:{col:1,line:14}}}}},title:"components/flow/FlowPanel",component:FlowPanel},Default={render:()=>(0,jsx_runtime.jsx)(FlowPanel,{onAddNode:()=>alert("ノード追加"),onGenerateCode:()=>alert("コード生成"),onImportMermaid:()=>alert("Mermaidインポート")})},__namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'{\n  render: () => <FlowPanel onAddNode={() => alert("ノード追加")} onGenerateCode={() => alert("コード生成")} onImportMermaid={() => alert("Mermaidインポート")} />\n}',...Default.parameters?.docs?.source}}}}}]);