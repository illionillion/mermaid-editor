/*! For license information please see 432.f4904a59.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkmermaid_editor=self.webpackChunkmermaid_editor||[]).push([[432],{"./components/ui/copy-button.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{i:()=>CopyButton});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@14.1.0_@babel+core@7.28.3_babel-plugin-macros@3.1.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/jsx-runtime.js"),_yamada_ui_lucide__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@yamada-ui+lucide@1.10.5_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/lucide/dist/chunk-RC6NZFVN.mjs"),_yamada_ui_lucide__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@yamada-ui+lucide@1.10.5_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/lucide/dist/chunk-K7EPPTKI.mjs"),_yamada_ui_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@yamada-ui+tooltip@1.2.4_@emotion+is-prop-valid@1.3.1_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/tooltip/dist/chunk-NWIU2O73.mjs"),_yamada_ui_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@yamada-ui+button@1.0.59_@emotion+is-prop-valid@1.3.1_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/button/dist/chunk-QQERBTQW.mjs"),_yamada_ui_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@yamada-ui+core@1.17.3_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/core/dist/index.mjs"),_yamada_ui_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@yamada-ui+use-clipboard@1.0.30_react@18.3.1/node_modules/@yamada-ui/use-clipboard/dist/index.mjs");const CopyButton=(0,__webpack_require__("./node_modules/.pnpm/next@14.1.0_@babel+core@7.28.3_babel-plugin-macros@3.1.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/index.js").memo)((0,_yamada_ui_react__WEBPACK_IMPORTED_MODULE_5__.Rf)(({value,...rest},ref)=>{const{hasCopied,onCopy}=(0,_yamada_ui_react__WEBPACK_IMPORTED_MODULE_6__.i)(value);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_yamada_ui_react__WEBPACK_IMPORTED_MODULE_3__.m,{alignItems:"center",bg:"success",display:"inline-flex",h:"8",open:hasCopied,label:"Copied!",placement:"left",zIndex:"1000",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_yamada_ui_react__WEBPACK_IMPORTED_MODULE_4__.K,{ref,size:"sm",variant:"unstyled","aria-label":"Copy the code",alignItems:"center",bg:["neutral.800","neutral.900"],border:"1px solid",borderColor:hasCopied?"success":"whiteAlpha.600",color:hasCopied?"success":"whiteAlpha.600",display:"flex",icon:hasCopied?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_yamada_ui_lucide__WEBPACK_IMPORTED_MODULE_2__.S,{fontSize:"lg"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_yamada_ui_lucide__WEBPACK_IMPORTED_MODULE_1__.T,{fontSize:"md"}),justifyContent:"center",_hover:{borderColor:hasCopied?"success":"whiteAlpha.800",color:hasCopied?"success":"whiteAlpha.800"},...rest,onClick:onCopy})})}));CopyButton.__docgenInfo={description:"",methods:[],displayName:"CopyButton"}},"./components/ui/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{i8:()=>copy_button.i,SE:()=>MermaidHighlight,KS:()=>NavigationMenu});var jsx_runtime=__webpack_require__("./node_modules/.pnpm/next@14.1.0_@babel+core@7.28.3_babel-plugin-macros@3.1.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/jsx-runtime.js"),chunk_DV7ZI7VK=(__webpack_require__("./node_modules/.pnpm/@xyflow+react@12.8.2_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@xyflow/react/dist/esm/index.js"),__webpack_require__("./node_modules/.pnpm/@yamada-ui+lucide@1.10.5_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/lucide/dist/chunk-DV7ZI7VK.mjs")),chunk_IWZHGNGY=__webpack_require__("./node_modules/.pnpm/@yamada-ui+lucide@1.10.5_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/lucide/dist/chunk-IWZHGNGY.mjs"),chunk_HAGIOAMT=__webpack_require__("./node_modules/.pnpm/@yamada-ui+lucide@1.10.5_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/lucide/dist/chunk-HAGIOAMT.mjs"),chunk_BIEYDHFO=__webpack_require__("./node_modules/.pnpm/@yamada-ui+menu@1.5.7_@emotion+is-prop-valid@1.3.1_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/menu/dist/chunk-BIEYDHFO.mjs"),chunk_3UTYG3XF=__webpack_require__("./node_modules/.pnpm/@yamada-ui+menu@1.5.7_@emotion+is-prop-valid@1.3.1_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/menu/dist/chunk-3UTYG3XF.mjs"),chunk_QQERBTQW=__webpack_require__("./node_modules/.pnpm/@yamada-ui+button@1.0.59_@emotion+is-prop-valid@1.3.1_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/button/dist/chunk-QQERBTQW.mjs"),chunk_HWUNOGPF=__webpack_require__("./node_modules/.pnpm/@yamada-ui+menu@1.5.7_@emotion+is-prop-valid@1.3.1_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/menu/dist/chunk-HWUNOGPF.mjs"),chunk_D2UJVOJ7=__webpack_require__("./node_modules/.pnpm/@yamada-ui+menu@1.5.7_@emotion+is-prop-valid@1.3.1_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/menu/dist/chunk-D2UJVOJ7.mjs"),chunk_XL5H2HLY=__webpack_require__("./node_modules/.pnpm/@yamada-ui+link@1.0.51_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/link/dist/chunk-XL5H2HLY.mjs");const ContributionPanelContent=()=>(0,jsx_runtime.jsxs)(chunk_BIEYDHFO.W,{children:[(0,jsx_runtime.jsx)(chunk_3UTYG3XF.I,{as:chunk_QQERBTQW.K,icon:(0,jsx_runtime.jsx)(chunk_DV7ZI7VK.N,{}),size:"sm","aria-label":"コントリビューションメニュー",bg:"gray.600",color:"white",_hover:{bg:"black",textDecoration:"none"}}),(0,jsx_runtime.jsxs)(chunk_HWUNOGPF.c,{children:[(0,jsx_runtime.jsx)(chunk_D2UJVOJ7.Dr,{as:chunk_XL5H2HLY.N,href:"https://github.com/illionillion/mermaid-editor",target:"_blank",rel:"noopener noreferrer",icon:(0,jsx_runtime.jsx)(chunk_IWZHGNGY.l,{}),children:"リポジトリを見る"}),(0,jsx_runtime.jsx)(chunk_D2UJVOJ7.Dr,{as:chunk_XL5H2HLY.N,href:"https://github.com/illionillion/mermaid-editor/issues/new/choose",target:"_blank",rel:"noopener noreferrer",icon:(0,jsx_runtime.jsx)(chunk_HAGIOAMT.F,{}),children:"Issueを作成"})]})]});ContributionPanelContent.__docgenInfo={description:"",methods:[],displayName:"ContributionPanelContent"};var copy_button=__webpack_require__("./components/ui/copy-button.tsx"),chunk_AFVGPBIP=__webpack_require__("./node_modules/.pnpm/@yamada-ui+button@1.0.59_@emotion+is-prop-valid@1.3.1_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/button/dist/chunk-AFVGPBIP.mjs"),next_link=__webpack_require__("./node_modules/.pnpm/next@14.1.0_@babel+core@7.28.3_babel-plugin-macros@3.1.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/link.js"),link_default=__webpack_require__.n(next_link),navigation=__webpack_require__("./node_modules/.pnpm/@storybook+nextjs@9.1.3_@swc+core@1.13.5_babel-plugin-macros@3.1.0_esbuild@0.21.5_next@14.1.0_nqkyw3pkmefvbbpssw5c5oj2jm/node_modules/@storybook/nextjs/dist/export-mocks/navigation/index.mjs");const NAV_ITEMS=[{label:"フローチャートエディタ",path:"/flow-chart"},{label:"ER図エディタ",path:"/er-diagram"}],NavigationMenu=()=>{var _usePathname;const pathname=null!==(_usePathname=(0,navigation.usePathname)())&&void 0!==_usePathname?_usePathname:"",isRoot="/"===pathname,current=isRoot?NAV_ITEMS.find(item=>"/flow-chart"===item.path):NAV_ITEMS.find(item=>pathname.startsWith(item.path)),menuItems=NAV_ITEMS.filter(item=>!(isRoot?"/flow-chart"===item.path:pathname.startsWith(item.path)));var _current_label;return(0,jsx_runtime.jsxs)(chunk_BIEYDHFO.W,{children:[(0,jsx_runtime.jsx)(chunk_3UTYG3XF.I,{as:chunk_AFVGPBIP.$,variant:"outline",size:"sm",ml:{base:0,sm:"auto"},children:null!==(_current_label=null==current?void 0:current.label)&&void 0!==_current_label?_current_label:"エディタを選択"}),(0,jsx_runtime.jsx)(chunk_HWUNOGPF.c,{children:menuItems.map(item=>(0,jsx_runtime.jsx)(chunk_D2UJVOJ7.Dr,{as:link_default(),href:""!==pathname?item.path:"#",children:item.label},item.path))})]})};NavigationMenu.__docgenInfo={description:"",methods:[],displayName:"NavigationMenu"};var chunk_ZJJ7XTJB=__webpack_require__("./node_modules/.pnpm/@yamada-ui+layouts@1.4.3_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/layouts/dist/chunk-ZJJ7XTJB.mjs"),prism=__webpack_require__("./node_modules/.pnpm/react-syntax-highlighter@15.6.1_react@18.3.1/node_modules/react-syntax-highlighter/dist/esm/prism.js"),vsc_dark_plus=__webpack_require__("./node_modules/.pnpm/react-syntax-highlighter@15.6.1_react@18.3.1/node_modules/react-syntax-highlighter/dist/esm/styles/prism/vsc-dark-plus.js");const MermaidHighlight=({code,showLineNumbers=!0,minHeight="400px",fontSize="14px"})=>(0,jsx_runtime.jsx)(chunk_ZJJ7XTJB.a,{w:"full",borderRadius:"md",overflow:"hidden",border:"1px solid",borderColor:"border",children:(0,jsx_runtime.jsx)(prism.A,{language:"mermaid",style:vsc_dark_plus.A,showLineNumbers,customStyle:{margin:0,fontSize,minHeight},children:code})});MermaidHighlight.__docgenInfo={description:"",methods:[],displayName:"MermaidHighlight",props:{showLineNumbers:{defaultValue:{value:"true",computed:!1},required:!1},minHeight:{defaultValue:{value:'"400px"',computed:!1},required:!1},fontSize:{defaultValue:{value:'"14px"',computed:!1},required:!1}}}},"./features/flowchart/components/mermaid/download-modal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{u:()=>DownloadModal});var jsx_runtime=__webpack_require__("./node_modules/.pnpm/next@14.1.0_@babel+core@7.28.3_babel-plugin-macros@3.1.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/jsx-runtime.js"),dist=__webpack_require__("./node_modules/.pnpm/@yamada-ui+core@1.17.3_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/core/dist/index.mjs"),chunk_WVAWCMPM=__webpack_require__("./node_modules/.pnpm/@yamada-ui+icon@1.1.21_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/icon/dist/chunk-WVAWCMPM.mjs"),chunk_EM4VFLLU=__webpack_require__("./node_modules/.pnpm/@yamada-ui+utils@1.7.2_react@18.3.1/node_modules/@yamada-ui/utils/dist/chunk-EM4VFLLU.mjs"),createLucideIcon=__webpack_require__("./node_modules/.pnpm/lucide-react@0.475.0_react@18.3.1/node_modules/lucide-react/dist/esm/createLucideIcon.js");const ArrowDown=(0,createLucideIcon.A)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);var ArrowDownIcon=(0,dist.Rf)(({className,...rest},ref)=>(0,jsx_runtime.jsx)(chunk_WVAWCMPM.In,{ref,as:ArrowDown,className:(0,chunk_EM4VFLLU.cx)("ui-lucide-icon",className),...rest}));const ArrowRight=(0,createLucideIcon.A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var ArrowRightIcon=(0,dist.Rf)(({className,...rest},ref)=>(0,jsx_runtime.jsx)(chunk_WVAWCMPM.In,{ref,as:ArrowRight,className:(0,chunk_EM4VFLLU.cx)("ui-lucide-icon",className),...rest}));const ArrowLeft=(0,createLucideIcon.A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var ArrowLeftIcon=(0,dist.Rf)(({className,...rest},ref)=>(0,jsx_runtime.jsx)(chunk_WVAWCMPM.In,{ref,as:ArrowLeft,className:(0,chunk_EM4VFLLU.cx)("ui-lucide-icon",className),...rest}));const ArrowUp=(0,createLucideIcon.A)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);var ArrowUpIcon=(0,dist.Rf)(({className,...rest},ref)=>(0,jsx_runtime.jsx)(chunk_WVAWCMPM.In,{ref,as:ArrowUp,className:(0,chunk_EM4VFLLU.cx)("ui-lucide-icon",className),...rest})),chunk_OHJS63B5=__webpack_require__("./node_modules/.pnpm/@yamada-ui+lucide@1.10.5_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/lucide/dist/chunk-OHJS63B5.mjs"),chunk_PQIMNVG7=__webpack_require__("./node_modules/.pnpm/@yamada-ui+lucide@1.10.5_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/lucide/dist/chunk-PQIMNVG7.mjs"),use_disclosure_dist=__webpack_require__("./node_modules/.pnpm/@yamada-ui+use-disclosure@1.1.6_react@18.3.1/node_modules/@yamada-ui/use-disclosure/dist/index.mjs"),chunk_SA5RYCAR=__webpack_require__("./node_modules/.pnpm/@yamada-ui+modal@1.4.14_@emotion+is-prop-valid@1.3.1_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/modal/dist/chunk-SA5RYCAR.mjs"),chunk_A64FIX7X=__webpack_require__("./node_modules/.pnpm/@yamada-ui+modal@1.4.14_@emotion+is-prop-valid@1.3.1_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/modal/dist/chunk-A64FIX7X.mjs"),chunk_KNFS6H5K=__webpack_require__("./node_modules/.pnpm/@yamada-ui+layouts@1.4.3_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/layouts/dist/chunk-KNFS6H5K.mjs"),chunk_HZUFQ4E7=__webpack_require__("./node_modules/.pnpm/@yamada-ui+typography@1.1.9_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/typography/dist/chunk-HZUFQ4E7.mjs"),chunk_AFVGPBIP=__webpack_require__("./node_modules/.pnpm/@yamada-ui+button@1.0.59_@emotion+is-prop-valid@1.3.1_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/button/dist/chunk-AFVGPBIP.mjs"),chunk_BIEYDHFO=__webpack_require__("./node_modules/.pnpm/@yamada-ui+menu@1.5.7_@emotion+is-prop-valid@1.3.1_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/menu/dist/chunk-BIEYDHFO.mjs"),chunk_3UTYG3XF=__webpack_require__("./node_modules/.pnpm/@yamada-ui+menu@1.5.7_@emotion+is-prop-valid@1.3.1_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/menu/dist/chunk-3UTYG3XF.mjs"),chunk_HWUNOGPF=__webpack_require__("./node_modules/.pnpm/@yamada-ui+menu@1.5.7_@emotion+is-prop-valid@1.3.1_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/menu/dist/chunk-HWUNOGPF.mjs"),chunk_D2UJVOJ7=__webpack_require__("./node_modules/.pnpm/@yamada-ui+menu@1.5.7_@emotion+is-prop-valid@1.3.1_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/menu/dist/chunk-D2UJVOJ7.mjs"),chunk_PXV3LL5A=__webpack_require__("./node_modules/.pnpm/@yamada-ui+modal@1.4.14_@emotion+is-prop-valid@1.3.1_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/modal/dist/chunk-PXV3LL5A.mjs"),chunk_OPXWQC3M=__webpack_require__("./node_modules/.pnpm/@yamada-ui+modal@1.4.14_@emotion+is-prop-valid@1.3.1_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/modal/dist/chunk-OPXWQC3M.mjs"),react=__webpack_require__("./node_modules/.pnpm/next@14.1.0_@babel+core@7.28.3_babel-plugin-macros@3.1.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/index.js"),ui=__webpack_require__("./components/ui/index.ts"),mermaid=__webpack_require__("./features/flowchart/hooks/mermaid.ts");const graphType=[{type:"TD",arrow:ArrowDownIcon},{type:"LR",arrow:ArrowRightIcon},{type:"RL",arrow:ArrowLeftIcon},{type:"BT",arrow:ArrowUpIcon}],DownloadModal=({open,onClose,flowData})=>{const[currentGraphType,setCurrentGraphType]=(0,react.useState)("TD"),currentMermaidCode=(0,react.useMemo)(()=>(0,mermaid.I$)(flowData,currentGraphType),[flowData,currentGraphType]),downloadMermaidCode=(0,react.useCallback)(()=>{const element=document.createElement("a"),file=new Blob([currentMermaidCode],{type:"text/plain"});element.href=URL.createObjectURL(file),element.download="flowchart.mmd",document.body.appendChild(element),element.click(),document.body.removeChild(element)},[currentMermaidCode]),{open:openMenu,onOpen:onOpenMenu,onClose:onCloseMenu}=(0,use_disclosure_dist.j1)();return(0,jsx_runtime.jsxs)(chunk_SA5RYCAR.a,{open,onClose,size:"2xl",children:[(0,jsx_runtime.jsx)(chunk_A64FIX7X.r,{children:(0,jsx_runtime.jsxs)(chunk_KNFS6H5K.zt,{justify:{base:"space-between",md:"flex-start"},display:{base:"flex",md:"inline-flex"},flexWrap:"wrap",alignItems:"center",children:[(0,jsx_runtime.jsx)(chunk_HZUFQ4E7.E,{children:"生成されたMermaidコード"}),(0,jsx_runtime.jsx)(chunk_AFVGPBIP.$,{startIcon:(0,jsx_runtime.jsx)(chunk_OHJS63B5.s,{}),colorScheme:"blue",size:"sm",onClick:downloadMermaidCode,ml:{base:0,md:"auto"},children:"ダウンロード"}),(0,jsx_runtime.jsxs)(chunk_BIEYDHFO.W,{open:openMenu,onOpen:onOpenMenu,onClose:onCloseMenu,children:[(0,jsx_runtime.jsx)(chunk_3UTYG3XF.I,{size:"sm",as:chunk_AFVGPBIP.$,rightIcon:(0,jsx_runtime.jsx)(chunk_PQIMNVG7.D,{fontSize:"xl"}),children:currentGraphType}),(0,jsx_runtime.jsx)(chunk_HWUNOGPF.c,{children:graphType.map(graph=>(0,jsx_runtime.jsx)(chunk_D2UJVOJ7.Dr,{icon:(0,jsx_runtime.jsx)(graph.arrow,{}),bgColor:graph.type===currentGraphType?"primary.50":"transparent",onClick:()=>setCurrentGraphType(graph.type),children:graph.type},graph.type))})]})]})}),(0,jsx_runtime.jsx)(chunk_PXV3LL5A.s,{}),(0,jsx_runtime.jsxs)(chunk_OPXWQC3M.c,{pb:6,position:"relative",children:[(0,jsx_runtime.jsx)(ui.i8,{value:currentMermaidCode,position:"absolute",top:2,right:6,zIndex:1}),(0,jsx_runtime.jsx)(ui.SE,{code:currentMermaidCode})]})]})};DownloadModal.__docgenInfo={description:"",methods:[],displayName:"DownloadModal"}},"./features/flowchart/hooks/mermaid.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{CP:()=>formatMermaidShape,I$:()=>generateMermaidCode,UF:()=>getArrowTypeSymbol,UY:()=>parseMermaidCode,Vc:()=>getArrowTypeDisplayName});const RESERVED_WORDS=new Set(["end","start","subgraph","class","classDef","click","style","linkStyle","direction","flowchart","graph","if","else","elseif","while","for","function","return","break","continue"]),getSafeVariableName=variableName=>{if(!variableName||""===variableName.trim())return"node_unnamed";let safeName=variableName.trim();return RESERVED_WORDS.has(safeName.toLowerCase())&&(safeName=`node_${safeName}`),/^[0-9]/.test(safeName)&&(safeName=`_${safeName}`),safeName=safeName.replace(/\s+/g,"_"),safeName=safeName.replace(/[^\w\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FAF]/g,"_"),safeName},formatMermaidShape=(shapeType,label)=>{switch(shapeType){case"rectangle":default:return`[${label}]`;case"diamond":return`{${label}}`;case"rounded":return`(${label})`;case"circle":return`((${label}))`;case"hexagon":return`{{${label}}}`;case"stadium":return`([${label}])`}},getArrowTypeSymbol=arrowType=>{switch(arrowType){case"arrow":default:return"→";case"thick":return"⇒";case"dotted":return"⇢";case"invisible":return"～";case"bidirectional":return"↔";case"bidirectional-thick":return"⇔"}},getArrowTypeDisplayName=arrowType=>{switch(arrowType){case"arrow":default:return"通常の矢印 (->)";case"thick":return"太い矢印 (==>)";case"dotted":return"点線矢印 (-.->)";case"invisible":return"非表示 (~~~)";case"bidirectional":return"双方向矢印 (<->)";case"bidirectional-thick":return"太い双方向矢印 (<==>)"}},generateMermaidCode=(flowData,direction="TD")=>{let code=`flowchart ${direction}\n`;return flowData.nodes.forEach(node=>{const variableName=node.data.variableName||`node${node.id}`,safeVariableName=getSafeVariableName(variableName),shapeType=node.data.shapeType||"rectangle",label=node.data.label||"",shapeCode=formatMermaidShape(shapeType,label);code+=`    ${safeVariableName}${shapeCode}\n`}),flowData.edges.forEach(edge=>{const sourceNode=flowData.nodes.find(node=>node.id===edge.source),targetNode=flowData.nodes.find(node=>node.id===edge.target);if(sourceNode&&targetNode){var _edge_data,_edge_data1;const sourceVariableName=getSafeVariableName(sourceNode.data.variableName||`node${sourceNode.id}`),targetVariableName=getSafeVariableName(targetNode.data.variableName||`node${targetNode.id}`),edgeLabel=null===(_edge_data=edge.data)||void 0===_edge_data?void 0:_edge_data.label,arrowCode=((arrowType="arrow",label)=>{const hasLabel=label&&""!==label.trim(),sanitizedLabel=hasLabel?(label=>label&&""!==label.trim()?/^\d+$/.test(label.trim())?label.trim():/^[a-zA-Z0-9\-_\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FAF\s]+$/.test(label)?label:`"${label.replace(/"/g,'\\"')}"`:label)(label):"";switch(arrowType){case"arrow":default:return hasLabel?` --\x3e|${sanitizedLabel}| `:" --\x3e ";case"thick":return hasLabel?` ==>|${sanitizedLabel}| `:" ==> ";case"dotted":return hasLabel?` -. ${sanitizedLabel} .-> `:" -.-> ";case"invisible":return hasLabel?` ~~~|${sanitizedLabel}| `:" ~~~ ";case"bidirectional":return hasLabel?` <--\x3e|${sanitizedLabel}| `:" <--\x3e ";case"bidirectional-thick":return hasLabel?` <==${sanitizedLabel}==> `:" <==> "}})((null===(_edge_data1=edge.data)||void 0===_edge_data1?void 0:_edge_data1.arrowType)||"arrow",edgeLabel);code+=`    ${sourceVariableName}${arrowCode}${targetVariableName}\n`}}),code},parseMermaidCode=mermaidCode=>{const result={nodes:[],edges:[]};if(!mermaidCode||""===mermaidCode.trim())return result;const contentLines=mermaidCode.split("\n").map(line=>line.trim()).filter(line=>line).filter(line=>!line.startsWith("flowchart")&&!line.startsWith("graph")),nodeRegistry=new Map;for(const line of contentLines){const nodeMatch=parseNodeDefinition(line);nodeMatch&&nodeRegistry.set(nodeMatch.id,nodeMatch)}for(const line of contentLines){const edgeMatch=parseEdgeDefinition(line);if(edgeMatch){if(!nodeRegistry.has(edgeMatch.source)){const sourceNodeInfo=extractNodeFromEdgeLine(line,edgeMatch.source);nodeRegistry.set(edgeMatch.source,sourceNodeInfo)}if(!nodeRegistry.has(edgeMatch.target)){const targetNodeInfo=extractNodeFromEdgeLine(line,edgeMatch.target);nodeRegistry.set(edgeMatch.target,targetNodeInfo)}result.edges.push(edgeMatch)}}return result.nodes=Array.from(nodeRegistry.values()),result},extractNodeFromEdgeLine=(line,nodeId)=>{const shapePatterns=[{pattern:"\\[([^\\]]*)\\]",shape:"rectangle"},{pattern:"\\(\\(([^\\)]*)\\)\\)",shape:"circle"},{pattern:"\\{\\{([^\\}]*)\\}\\}",shape:"hexagon"},{pattern:"\\(\\[([^\\]]*)\\]\\)",shape:"stadium"},{pattern:"\\(([^\\)]*)\\)",shape:"rounded"},{pattern:"\\{([^\\}]*)\\}",shape:"diamond"}];for(const{pattern,shape}of shapePatterns){const regex=new RegExp(`${nodeId}${pattern}`),match=line.match(regex);if(match)return{id:nodeId,variableName:nodeId,label:match[1]||nodeId,shapeType:shape}}return{id:nodeId,variableName:nodeId,label:nodeId,shapeType:"rectangle"}},parseNodeDefinition=line=>{if(line.includes("--\x3e")||line.includes("==>")||line.includes("-.->")||line.includes("~~~")||line.includes("<--\x3e")||line.includes("<==>"))return null;const patterns=[{regex:/^([a-zA-Z0-9_\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FAF]+)\[([^\]]*)\]$/,shape:"rectangle"},{regex:/^([a-zA-Z0-9_\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FAF]+)\(\(([^)]*)\)\)$/,shape:"circle"},{regex:/^([a-zA-Z0-9_\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FAF]+)\{\{([^}]*)\}\}$/,shape:"hexagon"},{regex:/^([a-zA-Z0-9_\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FAF]+)\(\[([^\]]*)\]\)$/,shape:"stadium"},{regex:/^([a-zA-Z0-9_\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FAF]+)\(([^)]*)\)$/,shape:"rounded"},{regex:/^([a-zA-Z0-9_\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FAF]+)\{([^}]*)\}$/,shape:"diamond"},{regex:/^([a-zA-Z0-9_\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FAF]+)$/,shape:"rectangle"}];for(const pattern of patterns){const match=line.match(pattern.regex);if(match){const id=match[1],label=void 0!==match[2]?match[2]:id;if(id.includes(" "))continue;return{id,variableName:id,label,shapeType:pattern.shape}}}return null},parseEdgeDefinition=line=>{const nodeId="[a-zA-Z0-9_\\u3040-\\u309F\\u30A0-\\u30FF\\u4E00-\\u9FAF]+",nodeShape="(?:\\[[^\\]]*\\]|\\([^)]*\\)|\\{[^}]*\\}|\\(\\([^)]*\\)\\)|\\{\\{[^}]*\\}\\}|\\(\\[[^\\]]*\\]\\))?",patterns=[{regex:new RegExp(`^(${nodeId})${nodeShape}\\s*<==(.+)==>\\s*(${nodeId})${nodeShape}$`),arrowType:"bidirectional-thick",labelPosition:"middle"},{regex:new RegExp(`^(${nodeId})${nodeShape}\\s*<==>\\s*(${nodeId})${nodeShape}$`),arrowType:"bidirectional-thick"},{regex:new RegExp(`^(${nodeId})${nodeShape}\\s*<--\x3e\\s*\\|\\s*([^|]*)\\s*\\|\\s*(${nodeId})${nodeShape}$`),arrowType:"bidirectional"},{regex:new RegExp(`^(${nodeId})${nodeShape}\\s*<--\x3e\\s*(${nodeId})${nodeShape}$`),arrowType:"bidirectional"},{regex:new RegExp(`^(${nodeId})${nodeShape}\\s*-\\.\\s*(.+?)\\s*\\.-\\s*>\\s*(${nodeId})${nodeShape}$`),arrowType:"dotted",labelPosition:"sides"},{regex:new RegExp(`^(${nodeId})${nodeShape}\\s*-\\.\\s*->\\s*(${nodeId})${nodeShape}$`),arrowType:"dotted"},{regex:new RegExp(`^(${nodeId})${nodeShape}\\s*==>\\s*\\|\\s*([^|]*)\\s*\\|\\s*(${nodeId})${nodeShape}$`),arrowType:"thick"},{regex:new RegExp(`^(${nodeId})${nodeShape}\\s*==>\\s*(${nodeId})${nodeShape}$`),arrowType:"thick"},{regex:new RegExp(`^(${nodeId})${nodeShape}\\s*--\x3e\\s*\\|\\s*([^|]*)\\s*\\|\\s*(${nodeId})${nodeShape}$`),arrowType:"arrow"},{regex:new RegExp(`^(${nodeId})${nodeShape}\\s*--\x3e\\s*(${nodeId})${nodeShape}$`),arrowType:"arrow"}];for(const pattern of patterns){const match=line.match(pattern.regex);if(match){let source,target,label="";return"bidirectional-thick"===pattern.arrowType&&match.length>=4&&match[2]&&""!==match[2].trim()||"sides"===pattern.labelPosition&&match.length>=4||4===match.length?(source=match[1],label=match[2].trim(),target=match[3]):(source=match[1],target=match[2]),{id:`${source}-${target}`,source,target,label,arrowType:pattern.arrowType}}}return null}},"./node_modules/.pnpm/@yamada-ui+lucide@1.10.5_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/lucide/dist/chunk-PQIMNVG7.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>ChevronDownIcon});var dist=__webpack_require__("./node_modules/.pnpm/@yamada-ui+core@1.17.3_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/core/dist/index.mjs"),chunk_WVAWCMPM=__webpack_require__("./node_modules/.pnpm/@yamada-ui+icon@1.1.21_@types+react@18.3.23_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@yamada-ui/icon/dist/chunk-WVAWCMPM.mjs"),chunk_EM4VFLLU=__webpack_require__("./node_modules/.pnpm/@yamada-ui+utils@1.7.2_react@18.3.1/node_modules/@yamada-ui/utils/dist/chunk-EM4VFLLU.mjs");const ChevronDown=(0,__webpack_require__("./node_modules/.pnpm/lucide-react@0.475.0_react@18.3.1/node_modules/lucide-react/dist/esm/createLucideIcon.js").A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var jsx_runtime=__webpack_require__("./node_modules/.pnpm/next@14.1.0_@babel+core@7.28.3_babel-plugin-macros@3.1.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/jsx-runtime.js"),ChevronDownIcon=(0,dist.Rf)(({className,...rest},ref)=>(0,jsx_runtime.jsx)(chunk_WVAWCMPM.In,{ref,as:ChevronDown,className:(0,chunk_EM4VFLLU.cx)("ui-lucide-icon",className),...rest}))}}]);